# Test

## test 뿌시기

### 1. 정적 테스트 vs 동적 테스트
* 정적 테스트 : 실행 전 소스코드 테스트
* 동적 테스트 : 소스코드 실행 후 테스트

### 2. software testing
* mission critical : 작은 실수가 치명적인 결과를 초래하는 분야
--> 국가나 생명, 사회, 조직 등에 큰 재앙을 가져올 수 있다.
![0818_test](/uploads/a813559c54647c52253359ac21eb1f46/0818_test.PNG)

### 3. codeScroll Code Inspector
* 규칙에 따라 inspector가 오류를 찾아줌
* MISRA_C_2012
```
MISRA_C_2012
* if~else if를 사용하는 경우 else로 닫아주는 코드가 필요하다.
* non-void 함수에서 return이 명시적으로 표현되야 한다.
* 함수의 파라미터로 선언된 것들은 함수 안에서 사용되어야 한다.
* 함수를 정의하기전에 선언이 필요하다.
* 함수의 파라미터로 void인 경우 명시적으로 void임을 표시해주어야 한다.
* 선언된 변수는 초기화되어야 한다.
* 연산자 ==은 괄호가 필요하다.
* #include <stdio.h>를 선언할 수 없다.
-> 따라서 printf 사용이 불가능하다.
* 수정되지 않은 파라미터는 const로 정의해야 한다.
* 동일한 이름을 가진 변수가 존재하면 안된다.
* malloc은 허용되지 않는 함수이다.
```

위의 오류 리스트를 정리함으로써 94개의 위배 기록을 21개로 줄였다.
![0818_error](/uploads/3a94066f7c1f301dad673283606fd963/0818_error.PNG)


### 4. 동적 테스트
```
- 소프트웨어 실행을 통하여 소프트웨어에 존재하는 결함을 검출하는 방법이다.
- 특정 데이터를 제 3의 소프트웨어에 입력하여 수행한 후, 실제 수행 결과와 기대 결과의 일치 여부를 검증한다.
```

<br>
<br>



1. 동적 테스트의 구성 요소

- 시험 단위
```
(1) 단위 동적 테스트 : 특정 함수, 단위 시험
(2) 통합 동적 테스트 : 특정 task, 함수 그룹 시험
(3) 시스템 동적 테스트 : 시스템 단위 시험

```

<br>

- 주의할 점
```
(1)테스트 설계 전략 선정 필요
    - 동등 클래스 분할 : 입력 영역을 동등 클래스 영역으로 분할, 각 클래스 별 대표값을 선택하여 테스트 케이스를 설계하는 방법
    - 경계값 분석 : 소프트웨어 동작 조건에 차이를 만드는 경계 근처에 있는 값을 테스트 케이스로 설계하는 방법
    - 상태전이 기반 : 상태 전이 모델을 기반으로 소프트웨어의 현재 상태나 변화를 발생시키는 테스트 케이스를 설계하는 방법
    - 경로기반 : 수행 경로를 기반으로 구조적 테스트 케이스를 설계하는 방법
    
(2) 테스트 종료 기준 설정 필요
    - 테스트 커버리지
```

<br>

- 테스트 커버리지

    - 정의
     테스트의 완성도를 나타내는 정량적 수치
    - 종류
        1. 단위 테스트 : 구문 커버리지, 조건 커버리지, 결정(분기)커버리지, 변경조건/ 결정 커버리지
        2. 통합 테스트 : 함수 커버리지, 함수 콜 커버리지
        3. 시스템 테스트 : 명세 커버리지


<br>
<br>

- 각 테스트 커버리지 종류에 따른 설명

(1) 단위 테스트


![0820_dynamicTest2_test_coverage-unit_test_](/uploads/130f605513d278b9be0e55341924a393/0820_dynamicTest2_test_coverage-unit_test_.PNG)


(2) 통합 테스트


![0820_dynamicTest3_test_coverage-_test_](/uploads/3b59262c99a8b84f457d6bbdbbaa7145/0820_dynamicTest3_test_coverage-_test_.PNG)



(3) 시스템 테스트


![0820_dynamicTest4_test_coverage-_system_test_](/uploads/c5d5c904142fc9cd925bdf3b203439a8/0820_dynamicTest4_test_coverage-_system_test_.PNG)


<br>
<br>



* 단위 테스트의 커버리지 중 MC/DC 커버리지란 ?
```
MC/DC(modified condition/Decision Coverage)로 '변경 조건/ 결정 커버리지'

    - 각 기본 조건이 다른 기본 조건들과는 무관하게 전체 조건의 평가에 영향을 미치는가를 알아보기 위한 테스트데이터를 생성하는 것이 목적이다.
    - 각 기본 조건 C에 대해 C를 참으로 만드는 테스트데이터와 거짓으로 만드는 테스트데이터 두 개를 선정한다. 이 때, C를 제외한 모든 조건들의 값은 
    동일하고 전체 조건의 값이 참이 되는 경우와 거짓이 되는 경우가 발생하도록 테스트 데이터들을 선정한다.
```


### 5. 0820 개인과제 

unit test를 수행하였을 때, 커버리지 정보가 100%가 뜨도록 하는 방법에 대한 TestCase작성


* ArrayTest
```
int  ArrayTest(int a[10], int b[20])
{
	if (a[5] == 0x3 && b[10]== 0x4)
	{
		return 0;
	}else if( a[9]==0x1 || b[15] == 0x10)
	{
		return 0;
	}

	return 0;
}
```

이 test에서는 

```
1. a[5]가 3이고 b[10]이 4 인 경우
2. a[9]가 1이거나 b[15]가 16인 경우
3. 그 외의 경우
```

를 생각해보아야 한다.

이 3가지 경우에 대한 TestCode를 작성하여 수행한 결과 커버리지 정보가 100이 뜬 것을 확인할 수 있었다.

[결과]


![0820_ArrayTest](/uploads/9ccd01f3049892a5e367a9e6d2316244/0820_ArrayTest.PNG)


<br>
<br>

* staticVarTest

```
void staticVarTest(){
	static int a = 0;

	if(a==0){
		a++;
		return;
	}else if(a==1){
		a=3;
		return;
	}else if(a==3){
		a++;
		return;
	}

	return;
}
```

이 test에서는 

```
1. a가 0인 경우
2. a가 1인 경우
3. a가 3인 경우
4. a가 그 외인 경우
```

를 생각해보아야 한다.

이 4가지 경우에 대한 TestCode를 작성하여 수행한 결과 커버리지 정보가 100이 뜬 것을 확인할 수 있었다.

[결과]

![0820_staticVarTest](/uploads/48415c178485d61435e845d626af9d0a/0820_staticVarTest.PNG)








